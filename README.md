# GB_introdaction_LAN

# Урок 5. Основы компьютерных сетей. Транспортный уровень. UDP и TCP.
1. Работа с программой Wireshark
2. Изучение структуры пакетов в локальной сети
3. Перехват данных
4. Изучение работы ping и tracert

# Домашнее задание №5
1. В приложенном файле “The Ultimate PCAP.pcap” (*данный файл есть в сети, его можно скачать*) найти e-mail. Что внутри письма и для кого оно?
2. Закрепите навыки фильтрования. Запустите трейс до 8.8.8.8. И перехватите его в Wireshark. Проанализируйте.
3. Закрепите навыки фильтрования. Найдите еще один сайт без шифрования с возможностью ввода логина/пароля. (можно в гугл настроить соответствующую выдачу по запросу с ключом “-inurl:https” в конце). Перехватите их в Wiresharke, построив фильтр.

# Решение

## Задача 1
1. [x] Добавляем в программу файл для анализа, выставляем фильтрацию по протоколу SMTP, получаем данные этого протокола, информация отправлена на данный адрес: <johannes@webertest.net>
формат почтового сообщения 
само письмо содержит текст, одинаковые строчки:
AABBCCDDEEFFGGHHIIJJKKLLMMNNOOPPQQRRSSTTUUVVWWXXYYZZ00112233445566778899  

![Поиск текста в сообщении](https://github.com/gleb-erokhin/GB_introdaction_LAN/blob/5th/1.jpg)

## Задача 2
2. [x] Для начала проверим сколько hop-ов надо чтобы дойти до сайта ya.ru, в итоге необходимо пройти 8 маршрутизаторов. В текущем варианте восьмой маршрутизатор не отвечает, возможно на нем закрыт ICMP, либо он в принципе настроен таким образом чтобы не отвечать на Echo пакеты.

![вывод trasert](https://github.com/gleb-erokhin/GB_introdaction_LAN/blob/5th/2.jpg)

3. [x] Проведем анализ пакетов в программе Wireshark.
Утилита tracert работает с помощью протокола ICMP. Для анализа команды tracert необходимо в программе Wireshark выставить фильтр по ip адресу, для этого впишем в поле фильтра строку: 
ip.addr eq 5.255.255.242
(необходимо удостоверится что ip верный, так как HOST может иметь разные белые адреса, где 5.255.255.242 адрес сайта ya.ru)

![ip сайта](https://github.com/gleb-erokhin/GB_introdaction_LAN/blob/5th/3.jpg)

4. [x] В начале работы tracert отправляет Echo пакет с временем жизни 1, он доходит до первого маршрутизатора который уменьшает время жизни до нуля и отвечает, что время жизни пакета истекло, а также в заголовке источника мы видим первый адрес маршрутизатора: 
**192.168.0.1** - это GW моего домашнего маршрутизатора. Это мы видим в командной строке под первым номером

![1 hop](https://github.com/gleb-erokhin/GB_introdaction_LAN/blob/5th/3.jpg)

5. [x] Так же мы можем заметить, что Echo пакетов с одинаковым TTL равно 3, это неободимо чтобы получить более точные данные о задержке. Если ответ не пришел в установленное время, то отображается символ "*" и сообщение о превышении интервала ожидания ответа. В данном случае у нас все нормально.

6. [x] На следующем шаге утилита tracert увеличивает TTL на еденицу и отправляет снова три подряд Echo запроса, за счет этого пакет проходит через первый маршрутизатор, но второй маршрутизатор уменьшает TTL до нуля и отбрасывает пакет, возращая информацию о том, что время жизни истекло, как и в предыдущем шаге в нем указано ip второго коммутатора: 10.72.0.2 

![hop tracert](https://github.com/gleb-erokhin/GB_introdaction_LAN/blob/5th/5.jpg)

![hop tracert](https://github.com/gleb-erokhin/GB_introdaction_LAN/blob/5th/6.jpg)

В дальнейшем происходит постоянное увеличение TTL на еденицу чтобы пойти все коммутаторы.

7. [x] Мы можем на примере проанализировать как работает TTL, используя команду PING с указанием TTL, при увеличении в каждом запросе мы будем получать ответ от каждого нового маршрутизатора в сети, они будут совпадать в адресами вывода утилиты trasert.

![ping с временем TTL](https://github.com/gleb-erokhin/GB_introdaction_LAN/blob/5th/7.jpg)

### Задача 3
8. [x] Для проверки как работает незащищенный протокол http воспользуемся сайтом **samlib.ru**, перейдя на страницу входа с учетными данными, попытаемся ввсти произвольные данные для входа. После чего выставив фильтр на ip адрес сайта, находим в пакетах протокол http со значением **POST: Login**.
В поле **HTML from URL** видим введенные данные логина и пароля передаваемые в открытом виде.

![логин и пароль в открытом виде](https://github.com/gleb-erokhin/GB_introdaction_LAN/blob/5th/8.jpg)
